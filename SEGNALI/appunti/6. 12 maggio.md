# TRASFORMATA Z
## INTRODUZIONE
Si vuole eseguire un filtraggio di un segnale.
Nel mondo tempo continuo, abbiamo visto che esistono *filtri analogici* che permettono di produrre in uscita appunto un filtraggio del segnale di partenza (uscite diverse a seconda del filtro utilizzato).
- Nel mondo tempo discreto, ci chiediamo se esiste un *filtro alternativo* (ancora in generale analogico) che avviene su una sequenza ottenuta dal campionamento ma che produce **la stessa uscita** (che sarà da ricostruire: passaggio sequenza $\longrightarrow$ segnale analogico)

In generale quindi lo schema di riferimento è il seguente (dove il filtro $H$ è l'equivalente di un sistema $LTI$ tempo discreto che poi approfondiremo):
![[Pasted image 20220516120839.png|500]]

- Abbiamo prodotto $y(t)$ che equivale allo stesso segnale che potevamo filtrare senza passare dalla sequenza, ma come vedremo la procedura appena vista porterà dei vantaggi
- Rimane da capire come costruire $H$ e come si comporta


## DEFINIZIONE
Sia $x[n]$ una sequenza.
Si definisce:
$$
\boxed{X(Z) = \sum_{n=-\infty}^{\infty} x[n] \cdot Z^{-n}} \quad \quad ,Z \in \mathbb{C}
$$
- $Z$ sarà indicata come un *punto nel piano complesso*
- $X(Z)$ è una funzione complessa di variabile complessa $Z$

![[Pasted image 20220516121951.png]]

## COLLEGAMENTO CON LA TRASFORMATA DI FOURIER
La trasformata Z e quella di Fourier sono collegate tra loro. Infatti posso passare dalla Z a quella di Fourier scegliendo $z = e^{j2\pi F}$, ovvero i punti sulla circonferenza di raggio unitario nel piano complesso. In altre parole:
$$
\underbrace{\sum_{=-\infty}^{\infty} x[n] \cdot z^{-n}}_{X(Z)} = \underbrace{\sum_{n=-\infty}^{\infty} x[n] \cdot e^{-j2\pi Fn}}_{X(F)} \quad \quad \text{, quando } Z=e^{j2\pi F}
$$
![[Pasted image 20220516122940.png|500]]

Dato che tutti i valori della trasformata di Fourier sono i valori della trasformata Z calcolati sul cerchio unitario, posso associare e individuare tutti i punti di uno spettro $X(F)$ sulla circonferenza unitaria.
In particolare, mostriamo alcuni valori *notevoli*:
- Valore in continua: $X(F)$ per $F=0 \longrightarrow \ Z(F)$ per $Z = 1$
-  Gli estremi del periodo: Valore in continua: $X(F)$ per $F= \pm \frac{1}{2} \longrightarrow \ Z(F)$ per $Z = -1$
![[Pasted image 20220516124356.png|600]]

## PRIMO ESEMPIO
Sia $x[n] = 2^{n} \cdot u[n]$ 
> [!faq] Quanto vale $X(Z)$?
> 

$$
X(Z) = \sum_{n=-\infty}^{\infty} 2^{n} \cdot u^{n} \cdot Z^{-n} = \sum_{n=0}^{\infty} 2^{n} \cdot Z^{-n} = \sum_{n=0}^{\infty} (2z^{-1})^{n}\underbrace{=}_{q=2z^{-1}}\ \sum_{n=0}^{\infty} q^{n} = \frac{1}{1-q}, \quad se \ |q|<1
$$
Quindi:
$$
X(Z) = \frac{1}{1- 2z^{-1}} = \frac{z}{z-2}, \quad se \ |2z^{-1}|>1 \rightarrow |z|>2
$$

Ciò significa che la trasformata **converge** per tutti i valori che in modulo sono maggiori di $2$, ovvero nella regione esterna alla circonferenza di raggio 2 sul piano complesso:
![[Pasted image 20220516143422.png]]

Osservazioni:
- Se applichiamo la definizione di trasformata di Fourier, ci si accorge che $x[n]$ non converge (in nessun modo, nemmeno utilizzando funzioni impulsive come la $\delta$ di Dirac):
$$
x[n] = 2^{n} \cdot u[n] \longleftrightarrow X(F)\quad \boxed{\text{non è convergente}}
$$
>> Questo si può notare anche graficamente perché la zona di convergenza della trasformata Z non appartiene alla circonferenza di raggio unitario caratteristica per la correlazione tra trasformata di Fourier e trasformata Z (non abbiamo cioè convergenza sul cerchio unitario)
- La trasformata Z invece converge per valori di $|Z| > 2$ 

## Vantaggi
Quello che abbiamo appena visto è il **primo vantaggio di utilizzo della trasformata Z**: converge (in regioni particolari da calcolare) in cui non esiste la trasformata di Fourier
	- Viene per questo definita come generalizzazione della trasformata di Fourier
		- (è l'analogo della trasformata di Laplace ma in tempo discreto)


Un altro **vantaggio è relativo alla forma di $X(Z)$**, infatti essa è una funzione *razionale*:
$$
X(Z) = \frac{z}{z-2}
$$
Nota: TUTTE le sequenze che vedremo hanno trasformate Z razionali
	- (ciò porta dei vantaggi anche ad esempio sul calcolo dell'inversa)

*La trasformata Z risulta quindi adatta per la rappresentazione e lo studio dei segnali tempo discreto*

## REGIONE DI CONVERGENZA (ROC)
Ci chiediamo cosa possiamo dire circa la convergenza della Trasformata Z a priori, con la sola osservazione cioè della sequenza di partenza. Vediamo alcuni esempi.

### 1) SEQUENZA FINITA
- Sequenza con numero finito di campioni (ad esempio da $n_1$ a $n_2$ e vale $0$ altrove)
![[Pasted image 20220516145923.png|400]]

Ovvero dobbiamo capire *dove converge*:
$$
X(Z) = \sum_{n_1}^{n_{2}} x[n] \cdot z^{-n}
$$
- Dato che sto sommando un *numero finito* di campioni, essa **converge ovunque**
	- Nota 1: Per $n_1<0$ bisogna escludere $Z=\infty$ (un punto) dalla regione di convergenza 
	- Nota 2: Per $n_2>0$ bisogna escludere $Z=0$ (un punto) dalla regione di convergenza 

### 2) SEQUENZA MONOLATERA DESTRA
- Sequenza che ha un numero di valori infinito tutti con indici maggiori di un certo $n_1$. Vale $0$ altrove (cioè prima di $n_1$)
	- $n_{1} \in \mathbb{Z}$, quindi può essere positivo o negativo
Due esempi sono i seguenti:
![[Pasted image 20220516151604.png|600]]


