# RETI DI SENSORI

## OBIETTIVI DEI PROTOCOLLI MAC
I protocolli MAC cercano il pi√π possibile di ottimizzare i seguenti obiettivi, con lo scopo di migliorare al massimo il trasferimento:
- **Collision Avoidance** (come abbiamo gi√† visto nelle reti Wireless)
- Latenza (alta)
- Largezza di banda
- **Scalabilit√†** (adattare le dimensioni a seconda delle situazioni)
- **Efficienza Energetica (consumo)**

### CONSUMO ENERGETICO
A proposito dell'ultimo aspetto, si scopre facilmente che le sorgenti di *maggiore spreco di energia* sono:
- Il trasmettitore
- Il ricevitore
I protocolli MAC si impegnano a ridurre quanto possibile questi consumi
- Per questa ragione sono state sviluppate delle tecniche, tra cui le seguenti (dette di $net \ processing$)

#### DATA AGGREGATION
-  √à un processo che combina informazioni multiple in un singolo messaggio che sar√† trasmesso e che quindi rappresenta un "riassunto" sintetico delle informazioni: $$ m_{\text{A}}=aggregate(m_{0},m_{1},\dots,m_{n}) $$
In questo modo basta un unico messaggio, e quindi il tutto sar√† pi√π corto
Si cerca di aggregare tutte le informazioni prima del routing, in questo modo l'instradamento √® pi√π veloce e meno pesante per i dispositivi di rete
- Un dispositivo detto $sink$ (logica tipo lavandino) raccoglie tutto 
![[Pasted image 20220719153529.png|300]]
> Rappresentazione a catena $\uparrow$ ; esiste anche quella ad albero, a griglia

#### DATA FUSION
- √à una tecnica che consiste nell'annotare sulle informazioni ricevute alcune informazioni aggiuntive (metadati): $$ m_\text{F}=fusion(m_{0},m_{1},\dots,m_{n}) $$
Ad esempio: aggiungere un time stamp o la localizzazione (pensiamo a una foto - ha un orario di scatto e magari anche il luogo o il nome della macchina fotografica)

## CLUSTERING
Permette di suddividere un insieme di dispositivi secondo un certo criterio
- Particolarmente utile per reti WSN (Wireless con sensori) perch√© migliorano l'inoltro dei messaggi in rete, limitando collisioni

#### LEACH
√à una particolare tecnica utile per massimizzare il $life \ time$ dei dispositivi in rete, permettendo di distribuire bene la potenza relativa a un dispositivo (sensore) $\to$ consumo equo

üòÉ: implementare nei nodi scelti tutte le funzioni di $net \ processing$, come ad esempio la $data \ aggregation$ 

- In particolare, allo scopo proprio di implementare la data aggregation, sar√† necessario scegliere un *clusterhead*, ovvero un nodo di riferimento a cui arrivano tutte le informazioni dei client vicini - √® una interfaccia verso il nodo $sink$
	- Naturalmente si sceglier√† un dispositivo che permette quante pi√π connessioni (radio) possibile - eventualmente un nodo che nel suo range radio include tutti gli altri dispositivi
	- Tale nodo esegue talvolta una rielaborazione delle informazioni (data aggregation) e poi sar√† in grado di trasferire tutto verso un nodo centrale della rete
	- Ogni $tot$ tempo si cambia clusterhead (rotazione di ruolo) per non sovraccaricare troppo
üòÉ: solo il capo cluster accede alla rete (meno congestione) e se riesce a eseguire anche una compressione delle informazioni che gli arrivano, c'√® anche meno pressione sulla rete
üòÉ: si evita che tutti dialoghino con il nodo centrale consumando energia

Il processo di Leach √® il seguente:
**Ipotesi**: esiste un unico sink; tutti i nodi possono comunicare verso il sink (che sia in modo aggregata o individuale)

**Fasi**
1) Si definisce la probabilit√† $p$ che ciascun nodo ha di essere elettro $clusterhead$
2) Si esegue una "elezione cooperativa": ogni sensore tira a sorte un numero casuale $x \in [0;1]$ con probabilit√† uniforme
3) Si definisce un valore di soglia valido per ogni sensore con la seguente regola: se il nodo appartiene all'insieme $G$ che rappresenta l'insieme dei nodi che ancora non hanno avuto "l'onore" di essere stati eletti clusterhead allora ha un certo valore (vedi dopo); altrimenti la soglia vale zero (una volta che √® stato rieletto non pu√≤ essere rieletto). In formule:  $$ \large \displaystyle  T(n)=\begin{cases} \frac{p}{1-p \ r \mod\left(\frac{1}{p}\right)} & \text{se il nodo }\in G \\ 0 & \text{altrimenti }\end{cases} $$
	- dove $r$ √® il numero di round di elezione
	- $\displaystyle \frac{1}{p}$ indica il numero di nodi che negli ultimi $\displaystyle \frac{1}{p}$ round non sono stati eletti. Quindi in generale meno sensori abbiamo e pi√π √® alta la probabilit√† di scelta di un certo nodo

4) si confrontano quindi i vari $T(n)$ e si candidano ufficialmente tutti i nodi che hanno $x < T(n)$
5) tra tutti i candidati se ne sceglie uno (magari quelli con pi√π elementi aggregati)

üò°: elegge il clusterhead semplicemente tenendo conto della frequenza di elezione (round), senza preoccuparsi che chi viene eletto poi ha effettivamente le capacit√† di svolgere quel ruolo (esempio: sufficiente potenza). üòÉ √à stato proposta la tecnica $\text{HEED}$ per risolvere questa "falla"

#### HEED
Tecnica evolutiva (migliorata) del Leach
- Si considera con attenzione il consumo in termini di energia di ciascun nodo

**Tre Fasi**
- Inizializzazione
- Selezione del clusterhead
- Setup delle reti di clustering

$Nota$: per ogni nodo si definisce la probabilit√† che esso possa diventare $clusterhead$ con la seguente regola: $$ CH_\text{prob} =C_\text{prob} \cdot \underbrace{\frac{E_\text{res}}{E_\text{max}}}_\text{novit√†} $$
- $C_\text{prob}$ √® la probabilit√† che un sensore pu√≤ essere eletto
- $\displaystyle \frac{E_\text{res}}{E_\text{max}}$ √® il rapporto tra le energie residue di un nodo (numeratore) con il valore di massimo di carica che il sensore ha (in generale √® uguale per tutti i nodi).

---

## ALGORITMI DI ROUTING PER RETI DI SENSORI
